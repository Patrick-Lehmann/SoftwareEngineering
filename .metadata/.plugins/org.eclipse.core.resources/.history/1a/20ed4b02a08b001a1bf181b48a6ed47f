/**
 * 
 */
package Git;

import java.util.InputMismatchException;
import java.util.Scanner;

/**
 * @author Patrick-Lehmann
 *
 */
public class Client {

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		// Willkommenstext
		System.out.println("Willkommen im Währungsrechner!");
		System.out.println("");
		
		//Instanziiere Währungen
		Currency Euro = new Currency(Currency.euro);
		Currency Dollar = new Currency(Currency.dollar);
		Currency Pfund = new Currency(Currency.pfund);
		
		System.out.println("");
		
		//interaktive Benutzereingabe
		Scanner Benutzereingabe = new Scanner(System.in);
		String userCurrency = null;
		double userValue;
		double userValue_Currency;
		boolean repeat = true;
		String run;
		
		while(repeat) {
			//Frage Benutzer nach der Währung
			System.out.println("Welche Währung möchten Sie umrechnen?");
			userCurrency = Benutzereingabe.next();
			
			//Suche in instanziierten Währungen nach eingegebener Währung und gebe Sie aus
			if(Euro.validate(userCurrency)) {
				System.out.println("Eingegebene Währung: "+Euro.getCurrency());
				repeat = false;
			}
			else if(Dollar.validate(userCurrency)) {
				System.out.println("Eingegebene Währung: "+Dollar.getCurrency());
				repeat = false;
			}
			else if(Pfund.validate(userCurrency)) {
				System.out.println("Eingegebene Währung: "+Pfund.getCurrency());
				repeat = false;
			}
			else {
				System.out.println("Eingegebene Währung nicht gefunden.");
				System.out.println("Möchten Sie das Programm beenden? (Y/N)");
				run = Benutzereingabe.next();
				if(run.equals("Y") || run.equals("y")) {
					repeat = false;
					System.out.println("Programm wurde beendet.");
					System.exit(1);
				}
			}
			System.out.println("");
		}
		
		repeat = true;
		
		while(repeat) {
			//Frage Benutzer nach dem Betrag
			System.out.println("Welchen Betrag möchten Sie umrechnen?");
			
			try  {
				userValue = Benutzereingabe.nextDouble();
				userValue_Currency = (double) Math.round(userValue*100)/100;
				System.out.println("Eigegebener Betrag: "+userValue);
				repeat = false;
				//Suche in instanziierten Währungen nach eingegebener Währung und rechne sie um
				if(Euro.validate(userCurrency)) {
					System.out.println("Eigegebener Betrag ("+Euro.getCurrency()+"): "+userValue+Currency.euroSymbol);
					System.out.println("Eigegebener Betrag (Dollar): "+Euro.toDollar(userValue)+Currency.dollarSymbol);
					System.out.println("Eigegebener Betrag (Pfund): "+Euro.toPfund(userValue)+Currency.pfundSymbol);
				}
				else if(Dollar.validate(userCurrency)) {
					System.out.println("Eigegebener Betrag ("+Dollar.getCurrency()+"): "+userValue+Currency.euroSymbol);
					System.out.println("Eigegebener Betrag (Euro): "+Dollar.toEuro(userValue)+Currency.dollarSymbol);
					System.out.println("Eigegebener Betrag (Pfund): "+Dollar.toPfund(userValue)+Currency.pfundSymbol);
				}
				else if(Pfund.validate(userCurrency)) {
					System.out.println("Eigegebener Betrag ("+Pfund.getCurrency()+"): "+userValue+Currency.euroSymbol);
					System.out.println("Eigegebener Betrag (Euro): "+Pfund.toEuro(userValue)+Currency.dollarSymbol);
					System.out.println("Eigegebener Betrag (Dollar): "+Pfund.toDollar(userValue)+Currency.pfundSymbol);
				}
				else {
					System.out.println("Eingegebene Währung nicht gefunden.");
				}
			}
			catch(InputMismatchException e) {
				String errStr = Benutzereingabe.next();
				System.out.println("'"+errStr+"' ist keine Zahl!");
			}
			
			System.out.println("");
		}
		
		Benutzereingabe.close();
		
	}

}
